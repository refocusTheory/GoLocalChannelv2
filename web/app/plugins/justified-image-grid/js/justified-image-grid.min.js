/*!
 * @preserve
 * Plugin Name: Justified Image Grid
 * Plugin URI: https://justifiedgrid.com
 * Version: 4.1.1
 * Description: Create beautiful photo grids from sources you already use.
 * Copyright (c) 2020 Published by Belcovio. Developed by Firsh.
 */
function loadJustifiedImageGrid(Z){Z.justifiedImageGrid=function(e,t){var i={targetHeight:190,heightDeviation:40,aspectRatio:"",disableCropping:"",randomizeWidth:"",margins:4,animSpeed:300,limit:0,initiallyLoad:"",maxRows:"",linkClass:"",linkRel:"jig[*instance*]",linkAttributeName:"",linkAttributeValue:"",linkAttribute:"",linkTitleField:"description",imgAltField:"title",wrapText:"no",readingDirection:"ltr",loadMore:"off",loadMoreText:"Load more",loadMoreCountText:"(*count* images remaining)",loadMoreOffset:100,loadMoreAutoWidth:"on",disableHover:"no",downloadLink:"no",lightboxLink:"no",verticalCenterCaptions:"off",customFonts:"yes",captionHeight:54,quality:90,retinaReady:"yes",retinaQuality:"auto",minRetinaQuality:30,maxRetinaDensity:3,caption:"fade",captionMatchWidth:"no",captionMatchWidthForceNo:!1,titleField:"title",captionField:"description",lightbox:"prettyphoto",lightboxInit:"jigAddLightbox1",overlay:"hovered",overlayIcon:"off",bordersTotal:0,innerBorder:"always",innerBorderWidth:0,innerBorderAnimate:"width",middleBorder:"always",middleBorderWidth:0,middleBorderColor:"white",outerBorder:"always",outerBorderColor:"black",specialFx:"off",specialFxType:"desaturate",specialFxOptions:"",specialFxBlend:1,incompleteLastRow:"normal",errorChecking:"yes",suppressErrors:"no",retryCount:0,resizeCount:0,errorChecked:!1,errorImages:[],filters:!1,filterMultiple:"no",filterStyle:"buttons",L2filters:!1,L2FilterMultiple:"no",L2FilterStyle:"buttons",filterSmallestColor:"#A3A3A3",filterSmallestSize:11,filterLargestColor:"#000000",filterLargestSize:22,separatorCharacter:" - ",thumbnailFilename:"normal",cropZone:"",instance:1,element:Z(e),lastWindowWidth:Z(window).width()},z=this,E=Z.extend({},i,t),O="object"==typeof Z.support&&"opacity"in Z.support&&!Z.support.opacity,D="",d=!!window.chrome&&!/opera|opr/i.test(navigator.userAgent);this.s=E;try{D=0<window.navigator.userAgent.indexOf("MSIE ")||!!navigator.userAgent.match(/Trident.*rv\:11\./),"Netscape"==navigator.appName&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge")&&(D=!0)}catch(e){D=!1}var N=!1;"ontouchstart"in document.documentElement&&(N=!0),z.init=function(){if(E.originalTargetHeight=E.targetHeight,E.minHeight=E.originalMinHeight=E.targetHeight-E.heightDeviation,E.maxHeight=E.originalMaxHeight=E.targetHeight+E.heightDeviation,E.prevScreenHeightLimitRatio=-1,E.defaultHeightRatio=E.originalDefaultHeightRatio=E.targetHeight/E.maxHeight,E.originalLimit=E.limit,E.hiddenOpacity=O?.01:0,D&&E.element.addClass("jig-ua-ie"),O&&E.element.addClass("jig-ua-old-ie"),!1===N?E.element.addClass("jig-no-touch"):E.element.addClass("jig-touch"),"no"!==E.lightbox&&"links-off"!==E.lightbox&&"new_tab"!==E.lightbox)if(E.hiddenLinkClass=""!==E.linkClass?'class="jig-link jig-hiddenLink '+E.linkClass+'" ':'class="jig-link jig-hiddenLink" ',E.linkClass=""!==E.linkClass?'class="jig-link '+E.linkClass+'" ':'class="jig-link" ',-1!==E.linkRel.indexOf("*instance*"))E.linkRel='rel="'+E.linkRel.replace("*instance*",E.instance)+'" ';else if(-1!==E.linkRel.indexOf("auto"))switch(E.lightbox){case"prettyphoto":E.linkRel='rel="'+E.linkRel.replace("auto","prettyPhoto["+E.instance+"]")+'" ';break;case"colorbox":E.linkRel='rel="'+E.linkRel.replace("auto","colorBox["+E.instance+"]")+'" ';break;default:E.linkRel='rel="'+E.linkRel.replace("auto","gallery["+E.instance+"]")+'" '}else E.linkRel='rel="'+E.linkRel+'" ';else E.linkClass="",E.hiddenLinkClass="",E.linkRel="";var t,i,r,a;function e(){return!1}function o(e,t,i,r){var a,o;"captions"!==E.specialFx||".jig-caption-wrapper .jig-caption"!==t?e.find(t).JIGhoverFlow(i,{opacity:r},E.animSpeed):(a=e.find(t),o=q(a,!0),a.JIGhoverFlow(i,{opacity:r},{duration:E.animSpeed,progress:function(){0!==Z(this).closest(".jig-cw-role-real").length&&U(o)}}))}function n(e,t,i,r){var a,o;"captions"!==E.specialFx?e.find(t).JIGhoverFlow(i,{height:r},E.animSpeed,"JIGeaseInOutQuad"):(a=e.find(t),o=q(a),a.JIGhoverFlow(i,{height:r},{duration:E.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){0!==Z(this).closest(".jig-cw-role-real").length&&U(o)}}))}function l(i,e,t,r){var a,o,n;"captions"!==E.specialFx?i.find(e).JIGhoverFlow(t,{height:r},{duration:E.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var e=i.find(".jig-caption-wrapper"),t=i.parent();e.css("top",Math.round(t.height()/2-e.height()/2))}}):(a=i.find(e),o=q(a),n=a.closest(".jig-caption"),i.find(e).JIGhoverFlow(t,{height:r},{duration:E.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var e=i.find(".jig-caption-wrapper"),t=i.parent();e.css("top",Math.round(t.height()/2-n.height()/2)),0!==Z(this).closest(".jig-cw-role-real").length&&U(o)},complete:function(){"slide"!=E.caption&&"reverse-slide"!=E.caption||"hide"!=r||i.find(".jig-cw-role-effect").height(.01)}}))}function s(e,t,i,r){e.find(t).JIGhoverFlow(i,{opacity:r},E.animSpeed)}function d(e,t,i,r){e.find(t).JIGhoverFlow(i,{borderLeftWidth:r,borderTopWidth:r,borderRightWidth:r,borderBottomWidth:r},E.animSpeed)}""!==E.linkAttributeName&&(""!==E.linkAttributeValue?E.linkAttribute=" "+E.linkAttributeName+'="'+E.linkAttributeValue+'"':E.linkAttribute=" "+E.linkAttributeName+'=""'),E.allItems=E.selectedItems=E.items.slice(),E.aspectRatio&&(E.maxWidth=Math.floor(E.maxHeight*parseFloat(E.aspectRatio)),"normal"==E.incompleteLastRow&&(E.incompleteLastRow="match","off"!==E.loadMore&&(E.incompleteLastRow="flexible-match"))),"yes"==E.retinaReady&&(void 0===window.devicePixelRatio||1==window.devicePixelRatio?(E.retinaReady="no",E.devicePixelRatio=1):window.devicePixelRatio>E.maxRetinaDensity?E.devicePixelRatio=E.maxRetinaDensity:E.devicePixelRatio=window.devicePixelRatio),"yes"==E.retinaReady&&("auto"==E.retinaQuality?(E.quality=Math.ceil(E.quality/E.devicePixelRatio),E.quality=E.quality>E.minRetinaQuality?E.quality:E.minRetinaQuality):E.quality=E.retinaQuality),"yes"==E.disableCropping&&(E.minHeight=E.originalMinHeight=50),"captions"==E.specialFx&&"below"==E.caption&&(E.specialFx="off"),"yes"!=E.customFonts||"off"===E.caption||"below"!=E.caption&&"off"===E.verticalCenterCaptions&&"captions"!=E.specialFx||0===(t=Z("body").find(".jig-fontCheck")).length&&(Z("body").append('<div class="jig-fontCheck">!"\'\\#$%&amp;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~ A quick brown fox jumps over the lazy dog.</div>'),i=(t=Z("body").find(".jig-fontCheck")).width(),r=0,a=setInterval(function(){r++;var e=t.width();i!=e&&0!==e?(Z("body").trigger("jig-fontLoaded"),t.remove(),clearInterval(a)):50<r&&(t.remove(),clearInterval(a))},100));var c,g,f,h,p,u=e,m=e,w=e,v=e,j=e,y=e,b=e,x=e,I=e,k=e,L=e,C=e;switch(E.overlay){case"hovered":m="on"===E.overlayIcon?(u=function(e){o(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","show")},function(e){o(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","hide")}):(u=function(e){o(e,"div.jig-overlay-wrapper","mouseenter","show")},function(e){o(e,"div.jig-overlay-wrapper","mouseleave","hide")});break;case"others":m="on"===E.overlayIcon?(u=function(e){o(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","hide")},function(e){o(e,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","show")}):(u=function(e){o(e,"div.jig-overlay-wrapper","mouseenter","hide")},function(e){o(e,"div.jig-overlay-wrapper","mouseleave","show")})}switch(E.innerBorder){case"hovered":switch(E.innerBorderAnimate){case"width":b=function(e){d(e,"div.jig-border","mouseenter",E.innerBorderWidth+"px")},x=function(e){d(e,"div.jig-border","mouseleave",0)};break;case"opacity":b=function(e){o(e,"div.jig-border","mouseenter","show")},x=function(e){o(e,"div.jig-border","mouseleave","hide")};break;case"off":b=function(e){Z(e).find("div.jig-border").show()},x=function(e){Z(e).find("div.jig-border").hide()}}break;case"others":switch(E.innerBorderAnimate){case"width":b=function(e){d(e,"div.jig-border","mouseenter",0)},x=function(e){d(e,"div.jig-border","mouseleave",E.innerBorderWidth+"px")};break;case"opacity":b=function(e){o(e,"div.jig-border","mouseenter","hide")},x=function(e){o(e,"div.jig-border","mouseleave","show")};break;case"off":b=function(e){Z(e).find("div.jig-border").hide()},x=function(e){Z(e).find("div.jig-border").show()}}}switch(E.middleBorder){case"hovered":I=function(e){Z(e).parent().parent("div.jig-imageContainer").css("background",E.middleBorderColor)},k=function(e){Z(e).parent().parent("div.jig-imageContainer").css("background","transparent")};break;case"others":I=function(e){Z(e).parent().parent("div.jig-imageContainer").css("background","transparent")},k=function(e){Z(e).parent().parent("div.jig-imageContainer").css("background",E.middleBorderColor)}}switch(E.outerBorder){case"hovered":L=function(e){Z(e).parent().parent("div.jig-imageContainer").css("border-color",E.outerBorderColor)},C=function(e){Z(e).parent().parent("div.jig-imageContainer").css("border-color","transparent")};break;case"others":L=function(e){Z(e).parent().parent("div.jig-imageContainer").css("border-color","transparent")},C=function(e){Z(e).parent().parent("div.jig-imageContainer").css("border-color",E.outerBorderColor)}}if(O)switch(E.specialFx){case"others":w=function(e){s(e,".jig-pixastic","mouseleave",.01)},v=function(e){s(e,".jig-pixastic","mouseleave",E.specialFxBlend)};break;case"hovered":w=function(e){s(e,".jig-pixastic","mouseenter",E.specialFxBlend)},v=function(e){s(e,".jig-pixastic","mouseleave",.01)}}else switch(E.specialFx){case"others":w=function(e){s(e,".jig-pixastic","mouseenter",.01)},v=function(e){s(e,".jig-pixastic","mouseleave",E.specialFxBlend)};break;case"hovered":w=function(e){s(e,".jig-pixastic","mouseenter",E.specialFxBlend)},v=function(e){s(e,".jig-pixastic","mouseleave",.01)}}switch(E.caption){case"fade":j=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},y=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")};break;case"reverse-fade":j=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},y=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseleave","show")};break;case"slide":y=O?(j=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){o(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):"off"==E.verticalCenterCaptions||"simple"==E.verticalCenterCaptions?(j=function(e){n(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){n(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):(j=function(e){l(e,".jig-caption-wrapper .jig-caption","mouseenter","show")},function(e){l(e,".jig-caption-wrapper .jig-caption","mouseleave","hide")});break;case"reverse-slide":y=O?(j=function(e){o(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){o(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):"off"==E.verticalCenterCaptions||"simple"==E.verticalCenterCaptions?(j=function(e){n(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){n(e,".jig-caption-wrapper .jig-caption","mouseleave","show")}):(j=function(e){l(e,".jig-caption-wrapper .jig-caption","mouseenter","hide")},function(e){l(e,".jig-caption-wrapper .jig-caption","mouseleave","show")});break;case"mixed":y="off"==E.verticalCenterCaptions||"simple"==E.verticalCenterCaptions?(j=function(e){n(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){n(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")}):(j=function(e){l(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},function(e){l(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")});break;case"reverse-mixed":y="off"==E.verticalCenterCaptions||"simple"==E.verticalCenterCaptions?(j=function(e){n(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){n(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")}):(j=function(e){l(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},function(e){l(e,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")})}if("yes"!==E.disableHover&&(E.element.on("mouseenter mouseleave","a",function(e){var t=Z(this);"none"!==t.css("display")&&(e.stopImmediatePropagation(),"mouseenter"===e.type?(u(t),w(t),j(t),b(t),I(t),L(t),t.data("title",t.attr("title")),t.removeAttr("title")):(m(t),v(t),y(t),x(t),k(t),C(t),t.attr("title",t.data("title"))))}),E.element.on("mousedown","a",function(e){Z(this).attr("title",Z(this).data("title"))})),Z("body").one("jig-fontLoaded",Q),"off"!==E.loadMore&&(E.loadMoreCounter=0,"carousel"==E.lightbox&&E.element.on("click",function(e){if(Z(e.target).hasClass("justified-image-grid"))return e.stopPropagation(),void e.preventDefault()}),E.element.on("click",".jig-loadMoreButton",V)),"prettyphoto"==E.lightbox&&"undefined"!=typeof jigOtherPrettyPhotoIsPresent&&Z(document).ready(function(){setTimeout(function(){window[E.lightboxInit]()},10)}),E.filters||E.L2filters){if(E.filteredImages=[],E.filters){E.filterMultiple=E.filterMultiple||"no",E.filterStyle=E.filterStyle||"buttons",c="buttons"==E.filterStyle?(E.filterType="Button","div"):(E.filterType="Tag","span");var T='<div id="jig'+E.instance+"-filter"+E.filterType+'s" class="jig-filter'+E.filterType+"s "+("no"!==E.filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(N?"jig-touch ":"jig-no-touch ")+(D?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="1">';for(g in E.filters)$(E.filters,g)&&(E.filteredImages[g]=[],T+="<"+c+' class="jig-filter'+E.filterType+'" data-filter-slug="'+g+'">'+E.filters[g]+"</"+c+">");T+="</div>",E.element.before(T),void 0!==E.filteredImages["all-items-nofilter"]&&(E.filteredImages["all-items-nofilter"]=E.selectedItems.slice());for(var R=0,W=E.selectedItems.length;R<W;R+=1)if(E.selectedItems[R].filters)for(var M=0,H=E.selectedItems[R].filters.length;M<H;M+=1)void 0!==E.filteredImages[E.selectedItems[R].filters[M][0]]&&"function"==typeof E.filteredImages[E.selectedItems[R].filters[M][0]].push&&E.filteredImages[E.selectedItems[R].filters[M][0]].push(E.selectedItems[R]);var F=Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType+'[data-filter-slug="all-items-nofilter"]');if(0<F.length&&Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).first().attr("data-filter-slug")!==F.attr("data-filter-slug")&&F.parent().prepend(F),"tags"==E.filterStyle){for(g in E.filters)$(E.filters,g)&&Z("#jig"+E.instance+"-filter"+E.filterType+'s .jig-filterTag[data-filter-slug="'+g+'"]').attr("rel",E.filteredImages[g].length);Z.fn.tagcloud.defaults={size:{start:E.filterSmallestSize,end:E.filterLargestSize,unit:"px"},color:{start:E.filterSmallestColor,end:E.filterLargestColor}},0<F.length?(F.css({"font-size":E.filterLargestSize,color:E.filterLargestColor}),Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).slice(1).tagcloud()):Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).tagcloud()}Z("#jig"+E.instance+"-filter"+E.filterType+"s").on("click",".jig-filter"+E.filterType,J)}if(E.L2filters){E.L2filterMultiple=E.L2filterMultiple||"no",E.L2filterStyle=E.L2filterStyle||"buttons",f="buttons"==E.L2filterStyle?(E.L2filterType="Button","div"):(E.L2filterType="Tag","span"),E.L2filteredImages=[];var S='<div id="jig'+E.instance+"-L2filter"+E.L2filterType+'s" class="jig-filter'+E.L2filterType+"s "+("no"!==E.L2filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(N?"jig-touch ":"jig-no-touch ")+(D?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="2">';for(h in E.L2filters)$(E.L2filters,h)&&(E.L2filteredImages[h]=[],S+="<"+f+' class="jig-filter'+E.L2filterType+'" data-filter-slug="'+h+'">'+E.L2filters[h]+"</"+f+">");S+="</div>",E.element.before(S),void 0!==E.L2filteredImages["all-items-nofilter"]&&(E.L2filteredImages["all-items-nofilter"]=E.selectedItems.slice());for(var A=0,B=E.selectedItems.length;A<B;A+=1)if(E.selectedItems[A].L2filters)for(var _=0,G=E.selectedItems[A].L2filters.length;_<G;_+=1)void 0!==E.L2filteredImages[E.selectedItems[A].L2filters[_][0]]&&"function"==typeof E.L2filteredImages[E.selectedItems[A].L2filters[_][0]].push&&E.L2filteredImages[E.selectedItems[A].L2filters[_][0]].push(E.selectedItems[A]);var P=Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType+'[data-filter-slug="all-items-nofilter"]');if(0<P.length&&Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).first().attr("data-filter-slug")!==P.attr("data-filter-slug")&&P.parent().prepend(P),"tags"==E.L2filterStyle){for(h in E.L2filters)$(E.L2filters,h)&&Z("#jig"+E.instance+"-L2filter"+E.L2filterType+'s .jig-filterTag[data-filter-slug="'+h+'"]').attr("rel",E.L2filteredImages[h].length);Z.fn.tagcloud.defaults={size:{start:E.filterSmallestSize,end:E.filterLargestSize,unit:"px"},color:{start:E.filterSmallestColor,end:E.filterLargestColor}},0<P.length?(P.css({"font-size":E.filterLargestSize,color:E.filterLargestColor}),Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).slice(1).tagcloud()):Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).tagcloud()}Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s").on("click",".jig-filter"+E.L2filterType,J)}J()}else z.createGallery();Z(window).resize(function(){void 0!==p&&clearTimeout(p),p=setTimeout(function(){z.createGallery("resize")},100)})},z.createGallery=function(e){if(!1===Z.JIGjQueryMinVersion("1.7"))return JIGjQueryMinVersion("1.7",!0),!1;var o,t=Math.round(E.element.width()),n=Z(window).width();void 0===E.fixedWidth?(E.element.css("width","").css("width",Math.round(E.element.width())),0===E.element.width()?void 0===E.fallbackWidth?0!==t&&n==E.lastWindowWidth?E.element.css("width",t+"px"):(o=0,E.element.parents().each(function(e,t){var i=Z(t),r=Z(t).parent(),a=i.width();if(i.is(":visible")&&0!==a)return E.element.css("width",a-o+"px"),void 0===r.data("jigAddedTabsHandler")&&(r.on("click",function(e){n!==Z(window).width()&&r.find(".justified-image-grid").each(function(){var e=Z(this);e.is(":visible")&&e.data("justifiedImageGrid").createGallery("resize")})}),r.data("jigAddedTabsHandler",!0)),!1;o+=i.outerWidth(!0)-i.width()})):E.element.css("width",E.fallbackWidth+"px"):1e4<E.element.width()&&(E.element.css("width",n),Z(window).on("load",function(){z.createGallery("resize")}))):E.element.css("width","").css("width",E.fixedWidth);var i=Math.round(E.element.width());if(i<9)return 10<E.retryCount?void E.element.find(".jig-clearfix").html("The element is invisible or too thin, upon page loading. In case of using tabs, try a Custom width in the General settings and you may also use a fixed width. (Justified Image Grid)"):void(E.retryBuilding=setTimeout(function(){E.retryCount++,z.createGallery()},100));if(E.retryBuilding&&clearTimeout(E.retryBuilding),E.element.find(".jig-clearfix").empty(),E.justResized=!1,"resize"===e){if(E.areaWidth&&E.areaWidth==i)return;E.justResized=!0}if(E.element.find(".jig-overflow a *:not(div)").off(),E.areaWidth=i,E.row=[],E.fullWidth=E.extra=0,E.rows=[],E.unshifts=[],E.screenHeight=Z(window).height(),E.screenHeightLimitRatio=Math.min(E.screenHeight/E.originalMaxHeight,1),E.prevScreenHeightLimitRatio!==E.screenHeightLimitRatio){if(E.screenHeightLimitRatio<1?(E.maxHeight=E.screenHeight,E.targetHeight=Math.round(E.maxHeight-E.heightDeviation*E.screenHeightLimitRatio),E.minHeight=50!=E.minHeight?Math.round(E.targetHeight-E.heightDeviation*E.screenHeightLimitRatio):50,E.defaultHeightRatio=E.targetHeight/E.maxHeight):(E.maxHeight=E.originalMaxHeight,E.targetHeight=E.originalTargetHeight,E.minHeight=E.originalMinHeight,E.defaultHeightRatio=E.originalDefaultHeightRatio),-1!=E.prevScreenHeightLimitRatio||1!=E.screenHeightLimitRatio)for(var r in E.selectedItems)$(E.selectedItems,r)&&(void 0===E.selectedItems[r].originalWidth&&(E.selectedItems[r].originalWidth=E.selectedItems[r].width),E.selectedItems[r].width=Math.round(E.selectedItems[r].originalWidth*E.screenHeightLimitRatio));E.prevScreenHeightLimitRatio=E.screenHeightLimitRatio}if(E.items=E.selectedItems.slice(),!0===E.errorChecked&&!1===E.justResized){for(var a in E.items)if($(E.items,a)&&-1!=Z.inArray(void 0===E.items[a].photon?void 0===E.items[a].thumbUrl?E.items[a].url:E.items[a].thumbUrl:E.items[a].photon,E.errorImages)){var l=E.items[a];if(E.items.splice(a,1),E.filters){var s=Z("#jig"+E.instance+"-filterButtons .jig-filterButtonSelected").attr("data-filter-slug");E.filteredImages[s]=E.items.slice();for(var d=1,c=E.filters.length;d<c;d+=1)for(var g=0,f=E.filteredImages[E.filters[d][0]].length;g<f;g+=1){var h=Z.inArray(l,E.filteredImages[E.filters[d][0]]);-1!=h&&E.filteredImages[E.filters[d][0]].splice(h,1)}}}if(E.selectedItems=E.items.slice(),E.errorImages=[],0===E.selectedItems.length)return void S();E.errorChecked=!1}for(""!==E.maxRows&&0!==E.maxRows||(E.maxRows=1e3),E.rowcount=0,E.imagesShown=0,""!==E.initiallyLoad&&"off"!==E.loadMore&&0===E.loadMoreCounter&&(E.limit=parseInt(E.initiallyLoad,10)),0!==E.limit&&E.limit<E.selectedItems.length?E.whileUntil=E.items.length-E.limit:E.whileUntil=0;E.items.length>E.whileUntil&&E.rowcount<E.maxRows;){var p=T();!1!==p&&(E.rows.push(p),E.rowcount++)}E.imagesShown+=E.selectedItems.length-E.items.length,E.element.find(".jig-imageContainer").slice(E.imagesShown).remove(),E.imagesAlreadyAdded=E.element.find(".jig-imageContainer").length;for(var u,m,w,v,j,y,b=0,x=0,I=E.rows.length;x<I;x+=1)for(var k=0,L=E.rows[x].length;k<L;k+=1)b++,((u=E.rows[x][k]).container&&b<=E.imagesAlreadyAdded?W:R)(u,E.rows[x].length,k);if("links-off"!==E.lightbox&&"no"!==E.lightbox&&"new_tab"!==E.lightbox&&""!==E.linkrel){for(;0<E.unshifts.length;)void 0===(u=E.unshifts.shift()).linkContainer?M(u):E.currentHiddenLink=u.linkContainer;for(;0<E.items.length;)void 0===(u=E.items.shift()).linkContainer?M(u):E.currentHiddenLink=u.linkContainer;E.currentHiddenLink=void 0}if(void 0===E.fixedWidth&&(E.element.css("width","").css("width",Math.round(E.element.width())),0===E.element.width()&&E.element.css("width",E.areaWidth+"px")),Z("img",E.element).not(".jig-hiddenImg").on("load",function(){var e,t,i;this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState)||O?(e=Z(this).closest("a"),t=Z(this).closest(".jig-overflow"),0!==e.length&&!0!==e.hasClass("jig-loaded")&&(e.addClass("jig-loaded"),"0"===t.css("opacity")&&t.css("opacity",1),"off"!=E.specialFx&&Z(this).clone().addClass("jig-pixastic").insertAfter(Z(this)).on("load",H).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&Z(this).trigger("load")})),Z(this).off("load")):"yes"==E.errorChecking&&(null!==(i=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(Z(this).attr("src")))?void 0!==i[1]?E.errorImages.push(i[1]):void 0!==i[2]&&E.errorImages.push(i[2]):E.errorImages.push(Z(this).attr("src")),Z(this).closest(".jig-imageContainer").addClass("jig-unloadable"),F())}).on("error",function(){var e;"yes"==E.errorChecking&&(null!==(e=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(Z(this).attr("src")))?void 0!==e[1]?E.errorImages.push(e[1]):void 0!==e[2]&&E.errorImages.push(e[2]):E.errorImages.push(Z(this).attr("src")),Z(this).closest(".jig-imageContainer").addClass("jig-unloadable"),F())}).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&Z(this).trigger("load")}),"resize"!==e?C():"prettyphoto"==E.lightbox&&"undefined"!=typeof jigReCallPrettyPhotoAfterPossibleResize?setTimeout(function(){window[E.lightboxInit](),jigReCallPrettyPhotoAfterPossibleResize=void 0},10):E.visibleImageCount!=Z(".jig-imageContainer",E.element).length&&C(),"click"!=E.loadMore&&"scroll"!=E.loadMore&&"hybrid"!=E.loadMore&&"once"!=E.loadMore||(E.loadMoreButton=E.element.find(".jig-loadMoreButton"),m=E.selectedItems.length-E.limit,w=E.element.find(".jig-hiddenLink").length,1==E.loadMoreButton.length?0<m?(E.loadMoreButton.find(".jig-loadMoreButton-count").text(0!==w?w:m),"yes"===E.loadMoreAutoWidth&&E.loadMoreButton.css("width",E.loadMoreButton.find(".jig-loadMoreButton-inner").width())):E.loadMoreButton.remove():0<m&&(v="",E.loadMoreCountText&&"none"!==E.loadMoreCountText&&(v=(v=E.loadMoreCountText).replace("*count*",'<span class="jig-loadMoreButton-count">'+(0!==w?w:m)+"</span>")),E.loadMoreButton=Z('<div class="jig-loadMoreButton"><span class="jig-loadMoreButton-inner">'+E.loadMoreText+(""!==v?"<br />"+v:"")+"</span></div>"),E.element.find(".jig-clearfix").after(E.loadMoreButton),"yes"===E.loadMoreAutoWidth&&E.loadMoreButton.css("width",E.loadMoreButton.find(".jig-loadMoreButton-inner").width())),"scroll"!=E.loadMore&&"hybrid"!=E.loadMore||Z(window).scroll(function(){var e;("scroll"==E.loadMore||"hybrid"==E.loadMore&&0<E.loadMoreCounter)&&0<E.selectedItems.length-E.limit&&(e=E.element.find(".jig-loadMoreButton").offset(),Z(window).scrollTop()>=e.top-parseInt(E.loadMoreOffset,10)-Z(window).height()&&V())})),"no"!==E.wrapText&&(j=E.element.find(".jig-imageContainer").last(),0===E.element.find(".jig-flowSpacer").length&&E.element.find(".jig-imageContainer").last().after('<div class="jig-flowSpacer"></div>'),y=E.element.find(".jig-flowSpacer").css({width:"1px",height:j.height()+3,float:"ltr"==E.readingDirection?"left":"right"}),setTimeout(function(){"ltr"==E.readingDirection?E.element.offset().left==y.offset().left?y.css("margin-right",0):y.css("margin-right",2*E.margins):E.element.offset().left==y.offset().left?y.css("margin-left",0):y.css("margin-left",2*E.margins)},1)),"yes"!=E.customFonts||"off"===E.caption||"below"!=E.caption&&"off"===E.verticalCenterCaptions&&"captions"!=E.specialFx||Q(!0),E.prevInstanceID="#jig"+(E.instance-1),Z(window).width()!=n||E.areaWidth!=Math.round(E.element.width()))return E.resizeCount++,1<E.resizeCount&&E.element.css("min-height",E.element.height()),z.createGallery("resize"),1<E.instance&&0!==Z(E.prevInstanceID).length&&Z(E.prevInstanceID).data("justifiedImageGrid").createGallery("resize"),void E.element.css("min-height","");1<E.instance&&0!==Z(E.prevInstanceID).length&&(E.prevInstanceData=Z(E.prevInstanceID).data("justifiedImageGrid"),E.prevInstanceData.s.element.css("width","").css("width",E.prevInstanceData.s.element.width()),E.prevInstanceData.s.areaWidth!=E.prevInstanceData.s.element.width()&&E.prevInstanceData.createGallery("resize")),E.resizeCount=0,E.lastWindowWidth=n,E.visibleImageCount=Z(".jig-imageContainer",E.element).length};var Q=function(s){!0!==s&&(s="captions"==E.specialFx),E.element.find(".jig-imageContainer").each(function(e,t){var i,r,a,o,n,l=Z(t);"off"!==E.verticalCenterCaptions&&(r=(i=l.find(".jig-caption-wrapper")).filter(".jig-cw-role-real"),a=r.height(),o=r.find(".jig-caption"),n=("mixed"==E.caption||"reverse-mixed"==E.caption)&&r.find(".jig-caption-description-wrapper"),"slide"!=E.caption&&"reverse-slide"!=E.caption||!o.is(":animated")?"mixed"!=E.caption&&"reverse-mixed"!=E.caption||!n.is(":animated")?(0===a&&(o.css({opacity:0,display:"block"}),a=r.height(),o.removeAttr("style")),!0===s?i.css({bottom:"auto",top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)}):i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},E.animSpeed,"JIGeaseInOutQuad")):n.promise().done(function(){a=r.height();var e=n.height();"mixed"==E.caption&&0!==e?(n.css({display:"none"}),a=r.height(),n.css({display:"block"})):"reverse-mixed"==E.caption&&0===e&&(n.css({display:"block"}),a=r.height(),n.css({display:"none"})),i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},E.animSpeed,"JIGeaseInOutQuad")}):o.promise().done(function(){0===(a=r.height())&&(o.css({opacity:0,display:"block"}),a=r.height(),o.removeAttr("style")),i.css({bottom:"auto"}).animate({top:Math.round(r.closest(".jig-imageContainer").height()/2-a/2)},E.animSpeed,"JIGeaseInOutQuad")})),"below"==E.caption&&L(l,!0),"captions"==E.specialFx&&(d&&"no"!==E.captionMatchWidth&&l.find(".jig-caption-title, .jig-caption-wrapper").each(function(){var e=Z(this),t=e.css("width","")[0].getBoundingClientRect().width;t%2!=0&&(t=Math.ceil(t),e.css({width:t%2!=0?t+1:t}))}),i=i||l.find(".jig-caption-wrapper"),U(q(i)))})},C=function(){switch(E.lightbox){case"prettyphoto":case"colorbox":case"magnific":case"photoswipe":case"photoswipe3":case"foobox":case"custom":window[E.lightboxInit]();break;case"links-off":E.element.find("a").css("cursor","default"),E.element.on("click","a",function(e){e.preventDefault()}),Z(E.element).on("click","a",function(e){2===e.which&&e.preventDefault()})}},J=function(e){var t,i,r,a=Z(this),o=a.attr("data-filter-slug"),n=!1;if(void 0===e&&(o=(a=!1!==E.filters?Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).first():Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).first()).attr("data-filter-slug")),1==(t=a.parent().attr("data-filter-level"))){if("no"==E.filterMultiple||"all-items-nofilter"==o)!1===a.hasClass("jig-filter"+E.filterType+"Selected")&&(a.siblings(".jig-filter"+E.filterType+"Selected").removeClass("jig-filter"+E.filterType+"Selected"),a.addClass("jig-filter"+E.filterType+"Selected"),E.selectedItems=E.filteredImages[o],n=!0);else{var l=a.parent().find(".jig-filter"+E.filterType+"Selected").length;if(1==l&&"all-items-nofilter"==a.siblings(".jig-filter"+E.filterType+"Selected").attr("data-filter-slug")&&a.siblings(".jig-filter"+E.filterType+"Selected").removeClass("jig-filter"+E.filterType+"Selected"),!1===a.hasClass("jig-filter"+E.filterType+"Selected"))a.addClass("jig-filter"+E.filterType+"Selected"),l++;else{if(1==l){if("all-items-nofilter"!=Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).first().attr("data-filter-slug"))return;Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType).first().click().addClass("jig-filter"+E.filterType+"Selected")}a.removeClass("jig-filter"+E.filterType+"Selected"),l--}var s=[];if(a.parent().find(".jig-filter"+E.filterType+"Selected").each(function(){s.push(Z(this).attr("data-filter-slug"))}),o=s.toString(),void 0===E.filteredImages[o]){E.filteredImages[o]=[];for(var d=0,c=E.allItems.length,g=0;g<c;g+=1)if(E.allItems[g].filters)for(d=0,r=E.allItems[g].filters.length,i=0;i<r;i+=1)"or"==E.filterMultiple?-1<Z.inArray(E.allItems[g].filters[i][0],s)&&-1==Z.inArray(E.allItems[g],E.filteredImages[o])&&E.filteredImages[o].push(E.allItems[g]):(-1<Z.inArray(E.allItems[g].filters[i][0],s)&&d++,d==s.length&&-1==Z.inArray(E.allItems[g],E.filteredImages[o])&&E.filteredImages[o].push(E.allItems[g]))}E.selectedItems=E.filteredImages[o],n=!0}n&&E.L2filters&&(E.L1selectedItems=E.selectedItems)}if(E.L2filters){if(void 0===e&&(t=(a=Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).first()).parent().attr("data-filter-level")),2==t)if("no"==E.L2filterMultiple||"all-items-nofilter"==o)a.siblings(".jig-filter"+E.L2filterType+"Selected").removeClass("jig-filter"+E.L2filterType+"Selected"),a.addClass("jig-filter"+E.L2filterType+"Selected");else{var f=a.parent().find(".jig-filter"+E.L2filterType+"Selected").length;if(1==f&&"all-items-nofilter"==a.siblings(".jig-filter"+E.L2filterType+"Selected").attr("data-filter-slug")&&a.siblings(".jig-filter"+E.L2filterType+"Selected").removeClass("jig-filter"+E.L2filterType+"Selected"),!1===a.hasClass("jig-filter"+E.L2filterType+"Selected"))a.addClass("jig-filter"+E.L2filterType+"Selected"),f++;else{if(1==f){if("all-items-nofilter"!=Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).first().attr("data-filter-slug"))return;Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType).first().click().addClass("jig-filter"+E.L2filterType+"Selected")}a.removeClass("jig-filter"+E.L2filterType+"Selected"),f--}}var h=[];Z("#jig"+E.instance+"-L2filter"+E.L2filterType+"s .jig-filter"+E.L2filterType+"Selected").each(function(){h.push(Z(this).attr("data-filter-slug"))}),o=[],E.filters&&Z("#jig"+E.instance+"-filter"+E.filterType+"s .jig-filter"+E.filterType+"Selected").each(function(){o.push(Z(this).attr("data-filter-slug"))});var p=o.concat(h).toString();if(!1===E.filters&&(E.L1selectedItems=E.allItems),void 0===E.filteredImages[p])if(1==h.length&&"all-items-nofilter"==h[0])E.filteredImages[p]=E.L1selectedItems,E.selectedItems=E.filteredImages[p];else{E.filteredImages[p]=[];for(var u=0,c=E.L1selectedItems.length,g=0;g<c;g+=1)if(E.L1selectedItems[g].L2filters)for(u=0,r=E.L1selectedItems[g].L2filters.length,i=0;i<r;i+=1)"or"==E.L2filterMultiple?-1<Z.inArray(E.L1selectedItems[g].L2filters[i][0],h)&&-1==Z.inArray(E.L1selectedItems[g],E.filteredImages[p])&&E.filteredImages[p].push(E.L1selectedItems[g]):(-1<Z.inArray(E.L1selectedItems[g].L2filters[i][0],h)&&u++,u==h.length&&-1==Z.inArray(E.L1selectedItems[g],E.filteredImages[p])&&E.filteredImages[p].push(E.L1selectedItems[g]))}E.selectedItems=E.filteredImages[p],n=!0}if(n){E.element.find(".jig-imageContainer, .jig-hiddenLink").remove();for(var m=0,w=E.selectedItems.length;m<w;m+=1)E.selectedItems[m].linkContainer=void 0;z.createGallery("filter")}},T=function(){for(E.row=[],E.validRow=!0,E.fullWidth=0,E.extra=0;E.items.length>E.whileUntil&&E.extra<E.areaWidth;){var e=E.items.shift();e.newHeight=e.newWidth=e.containerHeight=e.containerWidth=e.marLeft=void 0,e.ratio=e.width/E.maxHeight,E.row.push(e),E.fullWidth+=Math.round(e.width*E.defaultHeightRatio)+E.margins+E.bordersTotal,E.extra=E.fullWidth-E.margins}if(E.extra-=E.areaWidth,0<E.row.length&&0<E.extra||0===E.rows.length&&E.items.length>E.whileUntil){for(var t="landscape",i=0,r=E.row.length;i<r;i+=1)if(E.row[i].ratio<1){t="portrait";break}("landscape"!=t&&"yes"!==E.disableCropping?l:o)()}else{if(0<E.rows.length&&E.items.length==E.whileUntil){switch(E.incompleteLastRow){case"flexible":l("flexible");break;case"flexible-center":l("flexible-center");break;case"hide":l("hide");break;case"flexible-match":"off"!==E.loadMore&&E.selectedItems.length-E.limit<=0?a():l("flexible");break;case"flexible-match-center":"off"!==E.loadMore&&E.selectedItems.length-E.limit<=0?a("center"):l("flexible-center");break;case"match":a();break;case"match-center":a("center");break;case"center":l("center");break;default:l("lastRow")}return!0===E.validRow?E.row:(E.imagesShown-=E.row.length,E.unshifts=E.row,E.whileUntil+=E.unshifts.length,!1)}"center"!==E.incompleteLastRow&&"match-center"!==E.incompleteLastRow&&"flexible-match-center"!==E.incompleteLastRow?l("lastRow"):l("center")}return E.row},a=function(e){for(var t,i=0,r=0,a=E.rows.length;r<a;r+=1)i=r;if(void 0!==E.rows[i]&&void 0!==E.rows[i][0]){t=E.rows[i][0].containerHeight?E.rows[i][0].containerHeight:E.rows[i][0].newHeight,E.marginsTotal=(E.row.length-1)*E.margins+E.row.length*E.bordersTotal;for(var o=E.rowlen=0,n=E.row.length;o<n;o+=1)void 0!==E.rows[i][o]&&E.row[o].width==E.rows[i][o].width?(E.row[o].newHeight=E.rows[i][o].newHeight,E.row[o].containerHeight=E.rows[i][o].containerHeight,E.row[o].newWidth=E.rows[i][o].newWidth,E.row[o].containerWidth=E.rows[i][o].containerWidth,E.row[o].marLeft=E.rows[i][o].marLeft):(E.row[o].newHeight=t,E.row[o].newWidth=Math.round(E.row[o].newHeight*E.row[o].ratio)),E.rowlen+=E.row[o].newWidth,void 0!==E.row[o].marLeft&&(E.rowlen-=2*E.row[o].marLeft);t>E.targetHeight&&(E.remaining=E.rowlen+E.marginsTotal-E.areaWidth,0<E.remaining&&h()),void 0!==e&&E.rowlen+E.marginsTotal<E.areaWidth&&(E.row[0].spaceLeft=Math.floor(.5*(E.areaWidth-E.rowlen-E.marginsTotal)))}else l("lastRow")},o=function(){var e=!0;E.marginsTotal=(E.row.length-1)*E.margins+E.row.length*E.bordersTotal,E.rowlen=0,E.heights=[];for(var t=0,i=E.row.length;t<i;t+=1){var r=Math.round(E.row[t].width*E.defaultHeightRatio),a=Math.round((r+E.marginsTotal/E.row.length)/E.fullWidth*E.extra);if(E.row[t].newWidth=r-a,E.heights[t]=E.row[t].newWidth/E.row[t].ratio,E.heights[t]<E.minHeight)return void l();E.heights[t]>E.maxHeight?(E.row[t].newHeight=E.targetHeight,E.row[t].newWidth=Math.round(E.row[t].newHeight*E.row[t].ratio),e=!1):(E.row[t].newHeight=E.heights[t],E.rowlen+=E.row[t].newWidth)}e&&(E.remaining=E.rowlen+E.marginsTotal-E.areaWidth,h())},l=function(e){var t,i=!0;1!=E.row.length&&void 0===e&&(t=E.row.pop(),E.fullWidth-=Math.round(t.width*E.defaultHeightRatio)+E.margins+E.bordersTotal,E.items.unshift(t),E.extra=E.fullWidth-E.margins,E.extra-=E.areaWidth),E.marginsTotal=(E.row.length-1)*E.margins+E.row.length*E.bordersTotal,E.rowlen=0,E.heights=[];for(var r=0,a=E.row.length;r<a;r+=1){var o=Math.round(E.row[r].width*E.defaultHeightRatio),n=Math.round((o+E.marginsTotal/E.row.length)/E.fullWidth*E.extra);if(E.row[r].newWidth=o-n,E.heights[r]=E.row[r].newWidth/E.row[r].ratio,E.heights[r]>E.maxHeight){if(void 0===e){var l=E.items.shift();return E.row.push(l),E.fullWidth+=Math.round(l.width*E.defaultHeightRatio)+E.margins+E.bordersTotal,E.extra=E.fullWidth-E.margins,E.extra-=E.areaWidth,void p()}if("off"!==E.loadMore&&E.selectedItems.length-E.limit<=0&&("flexible"==e?e="lastRow":"flexible-center"==e&&(e="center")),"lastRow"==e){for(var s=0,d=E.row.length;s<d;s+=1)E.row[s].newHeight=E.targetHeight,E.row[s].newWidth=Math.round(E.row[s].newHeight*E.row[s].ratio);return}if("center"==e){for(var c=0,g=0,f=E.row.length;g<f;g+=1)E.row[g].newHeight=E.targetHeight,E.row[g].newWidth=Math.round(E.row[g].newHeight*E.row[g].ratio),c+=E.row[g].newWidth;return void(E.row[0].spaceLeft=Math.floor(.5*(E.areaWidth-c-E.marginsTotal)))}E.validRow=!1,E.row[r].newWidth=void 0,i=!1}else if(E.heights[r]<E.minHeight&&void 0===e)return void p();void 0!==E.row[r].newWidth&&(E.row[r].newHeight=E.heights[r],E.rowlen+=E.row[r].newWidth)}i&&(E.remaining=E.rowlen+E.marginsTotal-E.areaWidth,h())},h=function(){if(0!==E.remaining)if(0<E.remaining)for(;0<E.remaining;)for(var e=0,t=E.row.length;e<t&&(E.row[e].newWidth--,E.row[e].newHeight=E.heights[e]=E.row[e].newWidth/E.row[e].ratio,E.remaining--,0!==E.remaining);e+=1);else for(;E.remaining<0;)for(var i=0,r=E.row.length;i<r&&(E.row[i].newWidth++,E.row[i].newHeight=E.heights[i]=E.row[i].newWidth/E.row[i].ratio,E.remaining++,0!==E.remaining);i+=1);for(var a=Math.floor(Math.min.apply(null,E.heights)),o=0,n=E.row.length;o<n;o+=1)E.row[o].containerHeight=a,E.row[o].newHeight=Math.round(E.row[o].newHeight)},p=function(){for(var e=n(),t=0,i=E.row.length;t<i;t+=1){var r=e[t],a=E.row[t];a.marLeft=Math.round(r/2),a.containerWidth=a.newWidth-r}},n=function(){var e=[],t=0;E.marginsTotal=(E.row.length-1)*E.margins+E.row.length*E.bordersTotal;for(var i=0,r=E.row.length;i<r;i+=1){var a=E.row[i],o=Math.round(E.row[i].width*E.defaultHeightRatio);a.newHeight=E.targetHeight,a.newWidth=o,e[i]=Math.round((o+E.marginsTotal/E.row.length)/E.fullWidth*E.extra),t+=e[i]}var n=E.extra-t;if(0!==n)if(0<n)for(;0<n;)for(var l=0,s=e.length;l<s&&(e[l]++,0!=--n);l+=1);else for(;n<0;)for(var d=0,c=e.length;d<c&&(e[d]--,0!=++n);d+=1);return e},R=function(e,t,i){if(isNaN(e.newWidth)||!e.width)return!1;void 0!==e.linkContainer&&(Z(e.linkContainer).remove(),e.linkContainer=void 0),void 0===e[E.linkTitleField]&&(e[E.linkTitleField]=""),void 0===e[E.imgAltField]&&(e[E.imgAltField]=""),void 0===e[E.titleField]&&(e[E.titleField]=""),void 0===e[E.captionField]&&(e[E.captionField]=""),void 0===e.gallery&&(e.gallery="");var r="";e.carousel_data?(e.carousel_data=" "+e.carousel_data+" ",r=" tiled-gallery-item"):e.carousel_data="",e.extra_class&&(r+=" "+e.extra_class),e.off="",e.url=(e.link,e.url);var a,o=Z('<div class="jig-imageContainer'+r+'"/>'),n=Z('<div class="jig-overflow"/>'),l=e.url,s=e.link_target?e.link_target:"_self",d=E.linkClass,c=E.linkRel,g="",f="",h=!0;if(""!==e.gallery&&(o.append(e.gallery.html),c=' rel="'+e.gallery.rel+'" ',o.addClass(e.gallery.lightbox_class),o.attr("id",e.gallery.id)),e.link&&(l=e.link,"video"!==s&&"videoplayer"!==s?(d="foobox"!==s?'target="'+s+'" '+d.replace("jig-link","jig-customLink"):'target="'+s+'" '+d.replace("jig-link",""),c=e.link_rel?'rel="'+e.link_rel+'"':""):"magnific"==E.lightbox&&-1==d.indexOf("mfp-")&&(d=d.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=s&&"foobox"!=s||-1===l.indexOf("&poster=")&&-1===l.indexOf("|poster=")||(h=!1)),!0===h&&("https%3A%2F%2F"===(l=(l+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===l.substr(0,13)))try{l=decodeURIComponent(l)}catch(e){}g=e[E.linkTitleField],f=e[E.imgAltField],e.download&&("yes"==E.downloadLink?g+=a=(0!==g.length?E.separatorCharacter:"")+e.download:"alt"==E.downloadLink&&(f+=a=(0!==f.length?E.separatorCharacter:"")+e.download)),e.lightbox_link&&("yes"==E.lightboxLink?g+=(0!==g.length?E.separatorCharacter:"")+e.lightbox_link:"alt"==E.lightboxLink&&(f+=(0!==f.length?E.separatorCharacter:"")+e.lightbox_link)),""!==g&&(g='title="'+g+'" '),""!==f&&(f='alt="'+f+'" '),"new_tab"==E.lightbox&&(d='target="_blank" ');var p=E.linkAttribute;e.extra_class&&(p=p.replace("*content*",e.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1")));var u,m,w,v,j,y,b,x,I=Z("<a "+d+c+p+g+(e.wh?'data-wh="'+e.wh+'" ':"")+'href="'+("links-off"!=E.lightbox?l:"#")+'" />'),k=Z("<img "+f+e.carousel_data+"/>");return e.carousel_data&&e.download&&("yes"==E.downloadLink?(a=(0!==k.attr("data-image-title").length?E.separatorCharacter:"")+Z("<textarea />").html(e.download).val(),k.attr("data-image-title",k.attr("data-image-title")+a)):"alt"==E.downloadLink&&(a=(0!==k.attr("data-image-description").length?"<br />":"")+Z("<textarea />").html(e.download).val(),k.attr("data-image-description",k.attr("data-image-description")+a))),void 0!==e.geo&&k.attr("data-geo",e.geo),i==t-1&&o.addClass("jig-last"),n.css("width",(e.containerWidth?e.containerWidth:e.newWidth)+"px"),n.css("height",(e.containerHeight?e.containerHeight:e.newHeight)+"px"),e.photon?k.attr("src",decodeURIComponent((e.photon+"").replace(/\+/g,"%20"))):(u=e.thumbUrl?e.thumbUrl:e.url,m=E.originalMaxHeight,j="","normal"==E.thumbnailFilename&&null!==(v=/.*\.(jpe?g|gif|bmp|png|webp)/im.exec(u))&&(j="&f=."+v[1]),E.aspectRatio||E.randomizeWidth?(w=E.maxWidth,""!==E.randomizeWidth&&(w=void 0!==e.originalWidth?e.originalWidth:e.width),"yes"==E.retinaReady&&(m=Math.floor(m*E.devicePixelRatio),w=Math.floor(w*E.devicePixelRatio)),k.attr("src",E.timthumb+"?src="+u+"&h="+m+"&w="+w+"&q="+E.quality+E.cropZone+j)):"yes"==E.retinaReady?(m=Math.floor(m*E.devicePixelRatio),w=Math.floor((void 0!==e.originalWidth?e.originalWidth:e.width)*E.devicePixelRatio),k.attr("src",E.timthumb+"?src="+u+"&h="+m+"&w="+w+"&q="+E.quality+E.cropZone+j)):k.attr("src",E.timthumb+"?src="+u+"&h="+m+"&q="+E.quality+E.cropZone+j)),k.attr("width",e.newWidth).css("width",e.newWidth+"px"),k.attr("height",e.newHeight).css("height",e.newHeight+"px"),e.marLeft&&k.css("margin-left",-e.marLeft+"px"),("center"==E.incompleteLastRow||"flexible-center"==E.incompleteLastRow||"flexible-match-center"==E.incompleteLastRow||"match-center"==E.incompleteLastRow)&&e.spaceLeft&&0<e.spaceLeft&&(o.css("ltr"==E.readingDirection?"margin-left":"margin-right",e.spaceLeft+"px"),e.spaceLeft=0),k.css("margin-top",0),I.append(k),"off"!==E.overlay&&I.append('<div class="jig-overlay-wrapper"><div class="jig-overlay"></div></div>'+("on"===E.overlayIcon?'<div class="jig-overlay-icon-wrapper"><div class="jig-overlay-icon"></div></div>':"")),"off"!==E.caption&&(""!==e.gallery&&(e[E.titleField]=void 0!==e.gallery[E.titleField]&&""!==e.gallery[E.titleField]&&" "!==e.gallery[E.titleField]?e.gallery[E.titleField]:"",e[E.captionField]=void 0!==e.gallery[E.captionField]&&""!==e.gallery[E.captionField]&&" "!==e.gallery[E.captionField]?e.gallery[E.captionField]:""),(y="")!==e[E.titleField]&&" "!==e[E.titleField]&&(y+='<div class="jig-caption-title">'+A(e[E.titleField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div>"),""!==e[E.captionField]&&" "!==e[E.captionField]&&(y+='<div class="jig-caption-description-wrapper"><div class="jig-caption-description'+(""!==y?"":" jig-alone")+'">'+A(e[E.captionField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div></div>"),""!==y?(e.$captionWrapper=Z('<div class="jig-caption-wrapper jig-cw-role-real"><div class="jig-caption">'+y+"</div></div>"),"below"!==E.caption?I.append(e.$captionWrapper):0!==E.middleBorderWidth&&"always"==E.innerBorder&&"always"!==E.middleBorder?o.append(e.$captionWrapper.width(n.width()-2*parseFloat(E.innerBorderWidth))):o.append(e.$captionWrapper.css({width:n.css("width")}))):"below"==E.caption&&(e.$captionWrapper=Z('<div class="jig-caption-wrapper"></div>'),0!==E.middleBorderWidth&&"always"==E.innerBorder&&"always"!==E.middleBorder?o.append(e.$captionWrapper.width(n.width()-2*parseFloat(E.innerBorderWidth))):o.append(e.$captionWrapper.css({width:n.css("width")})))),0===E.bordersTotal&&0===E.innerBorderWidth||I.append('<div class="jig-border"></div>'),n.append(I),e.carousel_data&&e.caption&&n.append('<div class="tiled-gallery-caption">'+A(e.caption)+"</div>"),o.prepend(n),E.element.find(".jig-clearfix").before(o),"off"!==E.caption&&("below"==E.caption?L(o):"captions"!=E.specialFx||0!==(x=o.find(".jig-cw-role-real")).length&&((b="no"==E.captionMatchWidth||E.captionMatchWidthForceNo?Z(x[0].cloneNode(!1)):x.clone()).removeClass("jig-cw-role-real").addClass("jig-cw-role-effect"),"off"!==E.overlay?o.find(".jig-overlay-wrapper").before(b):x.before(b))),e.container=o,e.overflow=n,e.img=k,e.linkElement=I,o},W=function(e,t,i){i==t-1?e.container.addClass("jig-last"):e.container.removeClass("jig-last");var r,a,o,n=e.overflow,l=e.img;n.css("width",(e.containerWidth?e.containerWidth:e.newWidth)+"px").width(),n.css("height",(e.containerHeight?e.containerHeight:e.newHeight)+"px"),l.attr("width",e.newWidth).css("width",e.newWidth+"px"),l.attr("height",e.newHeight).css("height",e.newHeight+"px"),e.marLeft?l.css("margin-left",-e.marLeft+"px"):l.css("margin-left",""),"center"!=E.incompleteLastRow&&"flexible-center"!=E.incompleteLastRow&&"flexible-match-center"!=E.incompleteLastRow&&"match-center"!=E.incompleteLastRow||(e.spaceLeft&&0<e.spaceLeft?(e.container.css("ltr"==E.readingDirection?"margin-left":"margin-right",e.spaceLeft+"px"),e.spaceLeft=0):e.container.css("ltr"==E.readingDirection?"margin-left":"margin-right","")),"off"!=E.specialFx&&(0===(r=l.siblings(".jig-pixastic")).length&&"captions"==E.specialFx&&(r=l.siblings(".jig-cw-role-effect").find(".jig-pixastic")),s(r,l)),"below"==E.caption&&(0!==E.middleBorderWidth&&"always"==E.innerBorder&&"always"!==E.middleBorder?e.$captionWrapper.width((e.containerWidth?e.containerWidth:e.newWidth)-2*parseFloat(E.innerBorderWidth)):e.container.css({width:(e.containerWidth?e.containerWidth:e.newWidth)+"px"})),"off"!==E.caption&&"off"!==E.verticalCenterCaptions&&((a=e.container.find(".jig-cw-role-real").clone()).find(".jig-caption").css("display","block"),a.appendTo(e.linkElement).css({bottom:"auto",opacity:.01}).css("top",Math.round((e.containerHeight?e.containerHeight:e.newHeight)/2-a.height()/2)),o=a.css("top"),a.remove(),e.container.find(".jig-caption-wrapper").css({bottom:"auto"}).animate({top:o},E.animSpeed,"JIGeaseInOutQuad"))},M=function(e){void 0===e[E.linkTitleField]&&(e[E.linkTitleField]=""),void 0===e[E.imgAltField]&&(e[E.imgAltField]=""),void 0===e[E.titleField]&&(e[E.titleField]=""),void 0===e[E.captionField]&&(e[E.captionField]="");var t=e.off="";e.carousel_data?(e.carousel_data=" "+e.carousel_data+" ",t=" tiled-gallery-item"):e.carousel_data="",e.extra_class&&(t+=" "+e.extra_class);var i,r=e.url,a="",o="",n=E.hiddenLinkClass,l=e.link_target?e.link_target:"_self",s=E.linkRel,d=!0;if(""!==t&&(n=n.replace('jig-hiddenLink"',"jig-hiddenLink"+t+'"')),e.link&&(r=e.link,"video"!==l&&"videoplayer"!==l?(n="foobox"!==l?'target="'+l+'" '+n.replace("jig-link","jig-customLink jig-hiddenLink"):'target="'+l+'" '+n.replace("jig-link","jig-hiddenLink"),s=e.link_rel?'rel="'+e.link_rel+'"':""):"magnific"==E.lightbox&&-1==n.indexOf("mfp-")&&(n=n.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=l&&"foobox"!=l||-1===r.indexOf("&poster=")&&-1===r.indexOf("|poster=")||(d=!1)),!0===d&&("https%3A%2F%2F"===(r=(r+"").replace(/\+/g,"%20")).substr(0,14)||"http%3A%2F%2F"===r.substr(0,13)))try{r=decodeURIComponent(r)}catch(e){}a=e[E.linkTitleField],o=e[E.imgAltField],e.download&&("yes"==E.downloadLink?a+=i=(0!==a.length?E.separatorCharacter:"")+e.download:"alt"==E.downloadLink&&(o+=i=(0!==o.length?E.separatorCharacter:"")+e.download)),e.lightbox_link&&("yes"==E.lightboxLink?a+=(0!==a.length?E.separatorCharacter:"")+e.lightbox_link:"alt"==E.lightboxLink&&(o+=(0!==o.length?E.separatorCharacter:"")+e.lightbox_link)),""!==a&&(a='title="'+a+'" '),""!==o&&(o='alt="'+o+'" ');var c=E.linkAttribute;e.extra_class&&(c=c.replace("*content*",e.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/gm,"$1")));var g=Z("<a "+n+s+c+a+(e.wh?'data-wh="'+e.wh+'" ':"")+'href="'+("links-off"!=E.lightbox?r:"#")+'"/>'),f=Z('<img class="jig-hiddenImg" '+o+e.carousel_data+"/>");e.carousel_data&&e.download&&("yes"==E.downloadLink?(i=(0!==f.attr("data-image-title").length?E.separatorCharacter:"")+Z("<textarea />").html(e.download).val(),f.attr("data-image-title",f.attr("data-image-title")+i)):"alt"==E.downloadLink&&(i=(0!==f.attr("data-image-description").length?"<br />":"")+Z("<textarea />").html(e.download).val(),f.attr("data-image-description",f.attr("data-image-description")+i))),f.attr("src","data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D"),g.append(f),e.linkContainer=g,void 0!==E.currentHiddenLink?Z(E.currentHiddenLink).after(g):E.element.find(".jig-clearfix").after(g),E.currentHiddenLink=g},s=function(e,t){t.off("load"),0!==e.length&&e.off("load").remove(),t.clone().addClass("jig-pixastic").insertAfter(t).on("load",H).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth)&&Z(this).trigger("load")})},H=function(){if(!0!==Z(this).hasClass("jig-specialfx-complete"))if(Z(this).stop().css("display","block").css("opacity",1),""===E.specialFxOptions)switch(E.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio,average:!1},r);break;case"blur":Pixastic.process(this,"blurfast",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio,amount:.5},r);break;case"glow":Pixastic.process(this,"glow",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio,amount:.3,radius:.2},r);break;case"sepia":Pixastic.process(this,"sepia",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio},r);break;case"laplace_dark":Pixastic.process(this,"laplace",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio,edgeStrength:2,invert:!1,greyLevel:0},r);break;case"laplace_light":Pixastic.process(this,"laplace",{retinaReady:E.retinaReady,devicePixelRatio:E.devicePixelRatio,edgeStrength:2,invert:!0,greyLevel:0},r)}else{var e=function(e){for(var t={},i=0,r=e.length;i<r;i+=1){var a=e[i].split(":");t[a[0]]=a[1]}return t.retinaReady=E.retinaReady,t.devicePixelRatio=E.devicePixelRatio,t}(E.specialFxOptions);switch(E.specialFxType){case"desaturate":Pixastic.process(this,"desaturate",e,r);break;case"blur":Pixastic.process(this,"blurfast",e,r);break;case"glow":Pixastic.process(this,"glow",e,r);break;case"sepia":Pixastic.process(this,"sepia",r);break;case"laplace_dark":case"laplace_light":Pixastic.process(this,"laplace",e,r)}}Z(this).off("load")},r=function(t,e){if(!1===t){var i=Z(e);return i.siblings(".jig-cw-role-effect").remove(),void i.remove()}if(t=Z(t),"hovered"===E.specialFx?t.css("opacity",E.hiddenOpacity):t.css("opacity",E.specialFxBlend),t.addClass("jig-specialfx-complete"),"captions"==E.specialFx){var r=t.closest(".jig-imageContainer").find(".jig-cw-role-effect");if("no"==E.captionMatchWidth)t.appendTo(r);else try{var a=t[0].toDataURL("image/jpeg"),o=t.css("width")+" "+t.css("height");t.remove(),r.find(".jig-caption-title").css({"background-image":"url("+a+")","background-size":o}),r.find(".jig-caption-description").css({"background-image":"url("+a+")","background-size":o})}catch(e){E.captionMatchWidthForceNo=!0;var n=t.closest(".jig-imageContainer");n.find(".jig-cw-role-effect .jig-caption").remove(),n.find(".jig-caption-title").css({display:"block"}),t.appendTo(r)}U(q(r))}},q=function(e,t){var i={};if(i.roleEffect=e.eq(0).closest(".jig-caption-wrapper"),0===i.roleEffect.length)return!1;if("no"==E.captionMatchWidth||E.captionMatchWidthForceNo)i.roleEffect.hasClass("jig-cw-role-effect")?i.roleReal=i.roleEffect.siblings(".jig-cw-role-real"):(i.roleReal=i.roleEffect,i.roleEffect=i.roleEffect.siblings(".jig-cw-role-effect")),t&&(i.fadeZeroHeight=t),i.captionElement=i.roleReal.find(".jig-caption");else{if(i.roleEffect=i.roleEffect.filter(".jig-cw-role-effect"),!i.roleEffect.hasClass("jig-cw-role-effect"))return!1;i.img=i.roleEffect.siblings("img"),i.captionTitle=i.roleEffect.find(".jig-caption-title"),i.captionDescription=i.roleEffect.find(".jig-caption-description")}return i},U=function(e){if(!1===e)return!1;var t,i,r,a,o;"no"==E.captionMatchWidth||E.captionMatchWidthForceNo?(t=e.roleReal.position(),0!==e.roleReal.height()?(e.roleEffect.css({height:e.captionElement.height()+"px"}).find(".jig-pixastic").css({top:-t.top+"px"}),e.fadeZeroHeight&&e.roleEffect.css({opacity:e.captionElement.css("opacity")})):e.roleEffect.find(".jig-pixastic").css({top:-t.top+"px"})):(i=e.roleEffect.position(),r=e.captionTitle.position(),a=e.captionDescription.position(),o=parseInt(e.img.css("margin-left"),10),r&&e.captionTitle.css({"background-position":o-r.left+"px "+-i.top+"px"}),a&&e.captionDescription.css({"background-position":o+"px "+(-a.top-i.top)+"px"}))},L=function(e){e.find(".jig-caption-wrapper").dotdotdot({watch:!0,keep:"br"})};E.errorChecked=!1;var F=function(){0<Z(".jig-unloadable").length&&(E.errorChecked=!0,E.element.find(".jig-unloadable").remove(),z.createGallery("errorCheck"))},S=function(){"yes"!==E.suppressErrors&&("publicly"===E.suppressErrors&&!Z("body").hasClass("logged-in")||E.element.html('<a href="https://justifiedgrid.com/support/fix/all-of-the-images-have-failed-to-load/" target="_blank" rel="external nofollow" style="border-style:none; text-decoration: none; font-weight: bold;"><div style="background-color: #212121; color: white; padding: 10px; display: inline-block;">JIG</div><div style="background-color: #b71c1c; color:white; color: rgba(255, 255, 255, 0.87); padding: 10px; display: inline-block;">All of the images have failed to load. Please click here to reach the troubleshooting fix.</div></a>'))};function $(e,t){return"hasOwnProperty"in e?e.hasOwnProperty(t):Object.prototype.hasOwnProperty.call(e,t)}function A(e,i){return e=function(e,t){if(void 0===e)return"";var i=0,r=!1;void 0===t&&(t=2),e=e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var a={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===t&&(r=!0),"number"!=typeof t){for(var o=0,n=(t=[].concat(t)).length;o<n;o+=1)0===a[t[o]]?r=!0:a[t[o]]&&(i|=a[t[o]]);t=i}return t&a.ENT_HTML_QUOTE_SINGLE&&(e=e.replace(/&#0*39;/g,"'")),r||(e=e.replace(/&quot;/g,'"')),e.replace(/&amp;/g,"&")}(e),"below"==E.caption?e:(i=(((i||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return-1<i.indexOf("<"+t.toLowerCase()+">")?e:""}))}function V(e){void 0!==e&&e.stopPropagation();var t=E.element.find(".jig-overflow > a.jig-loaded").length,i=E.element.find(".jig-imageContainer .jig-overflow > a").length;"no"==E.errorChecking&&(i-=5),void 0!==E.loadCheckTimeout&&clearTimeout(E.loadCheckTimeout),t<i?(E.loadCheckTimeout=setTimeout(function(){V()},500),E.loadMoreButton.animate({opacity:.5},300,"JIGswing")):(E.loadMoreButton.animate({opacity:1},300,"JIGswing"),E.limit+=E.originalLimit,E.loadMoreCounter++,"once"==E.loadMore&&(E.limit=E.allItems.length),z.createGallery())}z.init()},Z.fn.justifiedImageGrid=function(t){return this.each(function(){var e;void 0===Z(this).data("justifiedImageGrid")&&(e=new Z.justifiedImageGrid(this,t),Z(this).data("justifiedImageGrid",e))})},Z.extend(Z.easing,{JIGswing:function(e){return.5-Math.cos(e*Math.PI)/2},JIGeaseInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}}),Z.fn.JIGhoverFlow=function(t,i,e,r,a){if(-1==Z.inArray(t,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var o="object"==typeof e?e:{complete:a||!a&&r||"function"==typeof e&&e,duration:e,easing:a&&r||r&&"function"!=typeof r&&r};void 0===o.easing&&(o.easing="JIGswing"),o.queue=!1;var n=o.complete;return o.complete=function(){Z(this).dequeue(),"function"==typeof n&&n.call(this)},this.each(function(){var e=Z(this);"mouseover"==t||"mouseenter"==t?e.data("jQuery.JIGhoverFlow",!0):e.removeData("jQuery.JIGhoverFlow"),e.queue(function(){("mouseover"==t||"mouseenter"==t?void 0!==e.data("jQuery.JIGhoverFlow"):void 0===e.data("jQuery.JIGhoverFlow"))?e.animate(i,o):e.queue([])})})},function(d){"use strict";function c(e,t){return e-t}function g(e){4===e.length&&(e=e.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3"));var t=/(\w{2})(\w{2})(\w{2})/.exec(e);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}d.fn.tagcloud=function(e){var o,n,i,r,l=d.extend({},d.fn.tagcloud.defaults,e),t=this.map(function(){return d(this).attr("rel")}),s=(t=jQuery.makeArray(t).sort(c))[0],a=t.pop()-s;return 0===a&&(a=1),l.size&&(o=(l.size.end-l.size.start)/a),l.color&&(i=l.color,r=a,n=jQuery.map(g(i.end),function(e,t){return(e-g(i.start)[t])/r})),this.each(function(){var e,r,a,t,i=d(this).attr("rel")-s;l.size&&d(this).css({"font-size":l.size.start+i*o+l.size.unit}),l.color&&d(this).css({color:(e=l.color,r=n,a=i,t=jQuery.map(g(e.start),function(e,t){var i=Math.round(e+r[t]*a);return 255<i?i=255:i<0&&(i=0),i}),"#"+jQuery.map(t,function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}).join(""))})})},d.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}}}(jQuery),Z.JIGjQueryMinVersion=function(e,t){if(e){var i=Z().jquery,r=e.split("."),a=i.split("."),o=[],n=[],l=!1;o[0]=isNaN(parseInt(r[0],10))?0:parseInt(r[0],10),o[1]=isNaN(parseInt(r[1],10))?0:parseInt(r[1],10),o[2]=isNaN(parseInt(r[2],10))?0:parseInt(r[2],10),o[3]=isNaN(parseInt(r[3],10))?0:parseInt(r[3],10),n[0]=isNaN(parseInt(a[0],10))?0:parseInt(a[0],10),n[1]=isNaN(parseInt(a[1],10))?0:parseInt(a[1],10),n[2]=isNaN(parseInt(a[2],10))?0:parseInt(a[2],10),n[3]=isNaN(parseInt(a[3],10))?0:parseInt(a[3],10);for(var s=0;s<4;s++){if(o[s]<=n[s]){if(l=!0,o[s]==n[s])continue;break}l=!1;break}if(!0===l)return!0;if(!0!==t)return!1;Z(".justified-image-grid").html('<span style="color:red;font-weight:bold">Your jQuery version ('+Z().jquery+") is old, this plugin needs at least 1.7, please go to the plugin settings and choose another jQuery source. If this does not work then your theme or a plugin is not using WordPress best practices and forces the loading of an old version. In that case contact the author of Justified Image Grid.</span>")}return!1}}loadJustifiedImageGrid(jQuery);